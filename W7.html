<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>TON Connect Test</title>
  <script src="https://unpkg.com/@tonconnect/sdk@latest"></script>
</head>
<body>

<button id="connectBtn">ุงุชุตุงู ฺฉู ูพูู</button>

<script>
  alert("โ ุตูุญู ููุฏ ุดุฏ");

  const manifestUrl = "https://solider1385.github.io/Best-Coin.io/tonconnect-manifest.json";

  let tonConnect;
  try {
    tonConnect = new TonConnect({ manifestUrl });
    alert("โ TonConnect ููุฏุงุฑุฏู ุดุฏ");
  } catch(e) {
    alert("โ ุฎุทุง ุฏุฑ ููุฏุงุฑุฏู TonConnect: " + e);
  }

  document.getElementById("connectBtn").onclick = async () => {
    alert("๐ ุฏฺฉูู ุงุชุตุงู ุฒุฏู ุดุฏ");

    try {
      // ุฏุฑุงูุช ูุณุช ููุชโูุง
      const wallets = await tonConnect.getWallets();
      alert("๐ฆ wallets ุฏุฑุงูุช ุดุฏ: " + wallets.length);

      if (!wallets.length) {
        alert("โ ูฺ ููุช ุงูุช ูุดุฏ");
        return;
      }

      const w = wallets[0];
      alert("โก ุชูุงุด ุจุฑุง ุงุชุตุงู ุจู: " + w.name);

      await tonConnect.connect({
        universalLink: w.universalLink,
        bridgeUrl: w.bridgeUrl
      });

      alert("โ ุงุชุตุงู ุงูุฌุงู ุดุฏ!");

    } catch (err) {
      alert("โ ุฎุทุง ุฏุฑ ุงุชุตุงู: " + err);
    }
  };
</script>

</body>
</html>
