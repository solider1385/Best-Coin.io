<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Ton Connect Test</title>

<script src="tonconnect-sdk.min.js"></script> <!-- โ ุงุฒ ุฎูุฏุช -->
</head>

<body>
<button id="connectBtn">ุงุชุตุงู ฺฉู ูพูู</button>

<script>
alert("โ ุตูุญู ููุฏ ุดุฏ");

const manifestUrl = "https://solider1385.github.io/Best-Coin.io/tonconnect-manifest.json";

let tonConnect;

window.onload = () => {
    try {
        tonConnect = new TonConnect({ manifestUrl });
        alert("โ TonConnect init ุดุฏ");
    } catch (e) {
        alert("โ init error: " + e);
    }
};

document.getElementById("connectBtn").onclick = async () => {

    alert("๐ ุดุฑูุน ุงุชุตุงู");

    try {
        const wallets = await tonConnect.getWallets();
        alert("โ ููุชโูุง: " + wallets.length);

        if (!wallets.length) {
            alert("โ ููุช ูพุฏุง ูุดุฏ");
            return;
        }

        const w = wallets[0];
        alert(`๐ ุงุชุตุงู ุจู: ${w.name}`);

        await tonConnect.connect({
            universalLink: w.universalLink,
            bridgeUrl: w.bridgeUrl
        });

        alert("โ ุงุชุตุงู ูููู");

    } catch (err) {
        alert("โ ุฎุทุง ุฏุฑ ุงุชุตุงู: " + err);
    }
};
</script>

</body>
</html>
