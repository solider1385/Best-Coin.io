<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>TON Connect Test</title>
</head>
<body>

<button id="connectBtn">ุงุชุตุงู ฺฉู ูพูููพ</button>

<script type="module">

import { TonConnect } from "https://unpkg.com/@tonconnect/sdk@latest/dist/tonconnect-sdk.min.js";

alert("โ SDK ููุฏ ุดุฏ (module)");

const manifestUrl = "https://solider1385.github.io/Best-Coin.io/tonconnect-manifest.json";

let tonConnect;

try {
    tonConnect = new TonConnect({ manifestUrl });
    alert("โ TonConnect ููุฏุงุฑุฏู ุดุฏ");
} catch(e) {
    alert("โ ุฎุทุง ุฏุฑ ููุฏุงุฑุฏู TonConnect: " + e);
}

document.getElementById("connectBtn").onclick = async () => {

    alert("๐ ุฏฺฉูู ุงุชุตุงู ุฒุฏู ุดุฏ");

    try {
        const wallets = await tonConnect.getWallets();
        alert("โ Wallets ุฏุฑุงูุช ุดุฏ: " + wallets.length);

        if (!wallets.length) {
            alert("โ ููุช ูพุฏุง ูุดุฏ");
            return;
        }

        const w = wallets[0];
        alert("๐ ุชูุงุด ุจุฑุง ุงุชุตุงู: " + w.name);

        await tonConnect.connect({
            universalLink: w.universalLink,
            bridgeUrl: w.bridgeUrl
        });

        alert("โ ุงุชุตุงู ุงูุฌุงู ุดุฏ!");

    } catch (err) {
        alert("โ ุฎุทุง ุฏุฑ ุงุชุตุงู: " + err);
    }
};

</script>

</body>
</html>
