<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>The FreePay Test</title>

  <!-- ููุฏ ฺฉุฑุฏู ฺฉุชุงุจุฎุงูู ุฑุณู ุชูฺฏุฑุงู -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body style="font-family: sans-serif; text-align: center; padding-top: 50px;">
  <h2>ุชุณุช ุงุชุตุงู ุจู Telegram WebApp</h2>
  <button id="checkBtn">ุจุฑุฑุณ ุงุชุตุงู</button>

  <script>
    alert("ุตูุญู ููุฏ ุดุฏ โ");

    document.getElementById("checkBtn").addEventListener("click", () => {
      alert("ุฏฺฉูู ุฒุฏู ุดุฏ ๐ข");

      if (window.Telegram && window.Telegram.WebApp) {
        const tg = window.Telegram.WebApp;
        alert("ุงุชุตุงู ุจู Telegram WebApp ุจุฑูุฑุงุฑ ุดุฏ ๐");

        // ุขูุงุฏูโุณุงุฒ WebApp
        tg.ready();

        // ุจุฑุฑุณ ุงุทูุงุนุงุช ฺฉุงุฑุจุฑ
        if (tg.initDataUnsafe && tg.initDataUnsafe.user) {
          const user = tg.initDataUnsafe.user;
          alert(`ฺฉุงุฑุจุฑ ุดูุงุณุง ุดุฏ ๐\n\nูุงู: ${user.first_name}\nุงุฏ: ${user.id}`);
        } else {
          alert("โ ูุชููุณุชู ุงุทูุงุนุงุช ฺฉุงุฑุจุฑ ุฑู ุจุฎููู.\nููฺฉูู ุฏุงุฎู ุชูฺฏุฑุงู ุจุงุฒ ูฺฉุฑุฏ!");
        }
      } else {
        alert("โ WebApp ููุฏ ูุดุฏู ุง ุตูุญู ุฎุงุฑุฌ ุงุฒ ุชูฺฏุฑุงู ุจุงุฒ ุดุฏู.");
      }
    });
  </script>
</body>
</html>
